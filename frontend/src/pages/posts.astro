---
import { render } from "astro:content";
import { getEntry } from "astro:content"
import Blog from "../layouts/blog.astro";
import type { PostOrPage } from "@tryghost/content-api";
import type { MarkdownHeading } from "astro";

const post = await getEntry("posts", "on-cruising")
if (!post) {
  // Handle Error, for example:
  throw new Error('Could not find blog post 1');
}
const { Content, headings } = await render(post);
// TODO: Update "blog" layout to just use our collection.
const props: {
  frontmatter: PostOrPage
  title: string
  headings: MarkdownHeading[]
} = {
    frontmatter: {
      id: post.id,
      title: post.data.title,
      slug: post.id,
      published_at: post.data.publishedTime.toString(),
      updated_at: post.data.modifiedTime.toString(),
      feature_image: post.data.featureImage,
      feature_image_alt: post.data.featureImageAlt,
    },
    title: post.data.title,
    headings, 
}
---
<Blog {...props}>
  <Content />
</Blog>
