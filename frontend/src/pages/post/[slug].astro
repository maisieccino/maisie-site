---
import type { GetStaticPaths } from "astro";
import Blog from "../../layouts/blog.astro"
import { getCollection } from "astro:content";

export const getStaticPaths = (async () => {
const posts = await getCollection("posts")
  if (posts == null) {
    return []
  }
  return posts.map(post => ({
    params: { slug: post.id },
    props: {
      post,
    }
  }));
}) satisfies GetStaticPaths;
const { post } = Astro.props

const props = {
  post,
  title: post.data.title,
  // headings: post.rendered.metadata.headings,
}

---

<Blog {...props}>
  <Fragment set:html={post.rendered?.html || ""} />
</Blog>
